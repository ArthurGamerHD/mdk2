<?xml version="1.0" encoding="utf-8"?>
<Project>
    <PropertyGroup>
        <MdkMinifier>none</MdkMinifier>
        <MdkTrim>off</MdkTrim>
        <MdkClipboard>off</MdkClipboard>
        <MdkOutput>auto</MdkOutput>
        <MdkArguments />
    </PropertyGroup>

    <Target Name="MdkPackPrepare">
        <PropertyGroup>
            <MdkArgumentsList>pack-script &quot;$(MSBuildProjectFullPath)&quot; -minifier $(MdkMinifier) -output &quot;$(MdkOutput)&quot;</MdkArgumentsList>
        </PropertyGroup>

        <PropertyGroup Condition="'$(MdkTrim)' == 'on'">
            <MdkArgumentsList>$(MdkArgumentsList) -trim"</MdkArgumentsList>
        </PropertyGroup>

        <PropertyGroup Condition="'$(MdkClipboard)' == 'on'">
            <MdkArgumentsList>$(MdkArgumentsList) -toclipboard"</MdkArgumentsList>
        </PropertyGroup>
        
        <PropertyGroup>
            <MdkArgumentsList>$(MdkArgumentsList) $(MdkArguments)</MdkArgumentsList>
        </PropertyGroup>
    </Target>

    <Target Name="MdkPack" DependsOnTargets="MdkPackPrepare" BeforeTargets="Build">
        <Exec Command="&quot;$(MSBuildThisFileDirectory)..\tools\mdk.exe&quot; $(MdkArgumentsList)" />
    </Target>

</Project>